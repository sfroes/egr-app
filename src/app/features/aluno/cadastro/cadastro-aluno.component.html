<div class="smc-egr-page-container smc-egr-page-container--wide">
  <div class="smc-egr-login-card-header" >
    <h1 style="display: flex; align-items: center; gap: var(--smc-egr-space-3); justify-content: center;">
      {{ isEditMode ? 'Editar Cadastro' : 'Novo Cadastro' }}
    </h1>
    <p>Preencha os campos abaixo. Os campos com <span class="smc-egr-text-danger">*</span> são obrigatórios</p>
  </div>

  <form [formGroup]="alunoForm" (ngSubmit)="onSubmit()">
    <p-card styleClass="smc-egr-card">
      <!-- Dados Pessoais -->
      <div formGroupName="pessoal" class="smc-egr-form-section">
        <h3 class="smc-egr-section-header">Dados Pessoais</h3>
        <div class="smc-egr-form-grid smc-egr-form-grid--cols-2">
          <div class="smc-egr-form-field">
            <label for="nome" class="smc-egr-label-required">Nome Completo</label>
            <input id="nome" type="text" pInputText formControlName="nome" />
          </div>
          <div class="smc-egr-form-field">
            <label for="dataNasc" class="smc-egr-label-required">Data de Nascimento</label>
            <p-inputMask id="dataNasc" mask="99/99/9999" formControlName="dataNasc" placeholder="dd/mm/aaaa"></p-inputMask>
          </div>
        </div>
      </div>

      <!-- Formação -->
      <div formGroupName="formacao" class="smc-egr-form-section">
        <h3 class="smc-egr-section-header">Formação</h3>
        <div class="smc-egr-form-grid smc-egr-form-grid--cols-2">
          <div class="smc-egr-form-field">
            <label for="origem" class="smc-egr-label-required">Origem</label>
            <p-dropdown id="origem" [options]="origens" formControlName="origem" optionLabel="nome" placeholder="Selecione a Origem"></p-dropdown>
          </div>
          <div class="smc-egr-form-field">
            <label for="curso" class="smc-egr-label-required">Curso</label>
            <p-dropdown id="curso" [options]="cursos" formControlName="curso" optionLabel="nome" placeholder="Selecione o Curso"></p-dropdown>
          </div>
          <div class="smc-egr-form-field">
            <label for="anoFormado" class="smc-egr-label-required">Ano de Formatura</label>
            <input id="anoFormado" type="text" pInputText formControlName="anoFormado" />
          </div>
          <div class="smc-egr-form-field">
            <label for="semestreFormado" class="smc-egr-label-required">Semestre de Formatura</label>
            <p-dropdown id="semestreFormado" [options]="semestres" formControlName="semestreFormado" optionLabel="nome" optionValue="id" placeholder="Selecione o Semestre"></p-dropdown>
          </div>
        </div>
      </div>

      <!-- Contato -->
      <div formGroupName="contato" class="smc-egr-form-section">
        <h3 class="smc-egr-section-header">Contato</h3>
        <div class="smc-egr-form-grid smc-egr-form-grid--cols-2">
          <div class="smc-egr-form-field">
            <label for="email" class="smc-egr-label-required">E-mail</label>
            <input id="email" type="email" pInputText formControlName="email" />
          </div>
          <div class="smc-egr-form-field">
            <label for="telContato">Telefone de Contato</label>
            <p-inputMask id="telContato" mask="(99) 9999-9999" formControlName="telContato" placeholder="(99) 9999-9999"></p-inputMask>
          </div>
          <div class="smc-egr-form-field">
            <label for="telCelular" class="smc-egr-label-required">Celular</label>
            <p-inputMask id="telCelular" mask="(99) 99999-9999" formControlName="telCelular" placeholder="(99) 99999-9999"></p-inputMask>
          </div>
        </div>
      </div>

      <!-- Endereço -->
      <div formGroupName="endereco" class="smc-egr-form-section smc-egr-mt-6">
        <h3 class="smc-egr-section-header">Endereço</h3>
        <div class="smc-egr-form-grid smc-egr-form-grid--cols-2">
          <div class="smc-egr-form-field">
            <label for="cep" class="smc-egr-label-required">CEP</label>
            <p-inputMask id="cep" mask="99999-999" formControlName="cep" (onComplete)="buscarCep()"></p-inputMask>
          </div>
          <div class="smc-egr-form-field">
            <label for="logradouro" class="smc-egr-label-required">Logradouro</label>
            <input id="logradouro" type="text" pInputText formControlName="logradouro" />
          </div>
          <div class="smc-egr-form-field">
            <label for="numero" class="smc-egr-label-required">Número</label>
            <input id="numero" type="text" pInputText formControlName="numero" />
          </div>
          <div class="smc-egr-form-field">
            <label for="complemento">Complemento</label>
            <input id="complemento" type="text" pInputText formControlName="complemento" />
          </div>
          <div class="smc-egr-form-field">
            <label for="bairro" class="smc-egr-label-required">Bairro</label>
            <input id="bairro" type="text" pInputText formControlName="bairro" />
          </div>
          <div class="smc-egr-form-field">
            <label for="cidade" class="smc-egr-label-required">Cidade</label>
            <input id="cidade" type="text" pInputText formControlName="cidade" />
          </div>
          <div class="smc-egr-form-field">
            <label for="uf" class="smc-egr-label-required">UF</label>
            <input id="uf" type="text" pInputText formControlName="uf" maxlength="2" />
          </div>
        </div>
      </div>

      <!-- Informações Profissionais -->
      <div formGroupName="profissional" class="smc-egr-form-section smc-egr-mt-6">
        <h3 class="smc-egr-section-header">Informações Profissionais</h3>
        <div class="smc-egr-form-grid smc-egr-form-grid--cols-2">
          <div class="smc-egr-form-field">
            <label for="ocupacao">Ocupação</label>
            <input id="ocupacao" type="text" pInputText formControlName="ocupacao" />
          </div>
          <div class="smc-egr-form-field">
            <label for="empresa">Empresa</label>
            <input id="empresa" type="text" pInputText formControlName="empresa" />
          </div>
          <div class="smc-egr-form-field">
            <label for="telComercial">Telefone Comercial</label>
            <p-inputMask id="telComercial" mask="(99) 9999-9999" formControlName="telComercial" placeholder="(99) 9999-9999"></p-inputMask>
          </div>
        </div>
      </div>

      <ng-template pTemplate="footer">
          <p-button label="Cancelar" styleClass="p-button-secondary" (onClick)="cancelar()"></p-button>
          <p-button [label]="isEditMode || alunoPreenchido ? 'Atualizar Cadastro' : 'Salvar e Criar Acesso'" type="submit" [disabled]="alunoForm.invalid || isLoading" [loading]="isLoading"></p-button>
      </ng-template>
    </p-card>
  </form>
</div>
