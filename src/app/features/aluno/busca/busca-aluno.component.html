<div class="smc-egr-page-container">
  <div class="smc-egr-login-card-header">
    <h1>Identificação do Ex-Aluno</h1>
    <p>Para começar, preencha os campos abaixo para localizar seu cadastro</p>
  </div>

  <!-- Mensagem de Erro -->
  @if (errorMessage()) {
    <div class="smc-egr-alert smc-egr-alert--error" role="alert">
      <i class="pi pi-exclamation-circle"></i>
      <span>{{ errorMessage() }}</span>
    </div>
  }

  <p-card styleClass="smc-egr-card">
    <form #buscaForm="ngForm" class="smc-egr-form-grid smc-egr-form-grid--cols-2">
      <!-- Nome -->
      <div class="smc-egr-form-field">
        <label for="nome" class="smc-egr-label-required">Nome Completo</label>
        <input
          id="nome"
          pInputText
          type="text"
          [(ngModel)]="nome"
          name="nome"
          required
        />
      </div>

      <!-- Data de Nascimento -->
      <div class="smc-egr-form-field">
        <label for="dataNascimento" class="smc-egr-label-required">Data de Nascimento</label>
        <p-calendar
          id="dataNascimento"
          [(ngModel)]="dataNascimento"
          name="dataNascimento"
          dateFormat="dd/mm/yy"
          [showIcon]="true"
          required
        ></p-calendar>
      </div>

      <!-- Origem -->
      <div class="smc-egr-form-field">
        <label for="origem" class="smc-egr-label-required">Origem</label>
        <p-dropdown
          id="origem"
          [(ngModel)]="selectedOrigem"
          name="origem"
          [options]="origens()"
          optionLabel="nome"
          placeholder="Selecione sua origem"
          (onChange)="onOrigemChange()"
          required
        ></p-dropdown>
      </div>

      <!-- Curso -->
      <div class="smc-egr-form-field">
        <label for="curso" class="smc-egr-label-required">Curso em que se formou</label>
        <p-dropdown
          id="curso"
          [(ngModel)]="selectedCurso"
          name="curso"
          [options]="cursos()"
          optionLabel="nome"
          placeholder="Selecione seu curso"
          [disabled]="isCursoDisabled()"
          required
        ></p-dropdown>
      </div>
    </form>

    <ng-template pTemplate="footer">
        <p-button
          label="Buscar"
          icon="pi pi-search"
          (onClick)="buscarAluno()"
          [disabled]="isFormInvalid() || isLoading()"
          [loading]="isLoading()"
        ></p-button>
    </ng-template>
  </p-card>
</div>
